api:
automation: !include automations.yaml
#cloud:
counter:
dhcp:
diagnostics:
discovery:
energy:
ffmpeg:
history:
input_boolean:
input_button:
input_datetime:
input_number:
input_select:
input_text:
logbook:
map:
media_source:
mobile_app:
my:
network:
notify:
person:
scene:
#script:
ssdp:
sun:
system_health:
#tag:
timer:
usb:
wake_on_lan:
webhook:
zeroconf:
zone:

homeassistant:
  name: "Home"
  latitude: !secret home_lat
  longitude: !secret home_lon
  elevation: 14
  unit_system: "metric"
  currency: "GBP"
  time_zone: "Europe/London"
  external_url: "https://hass.jimeagle.com"
  internal_url: "http://192.168.0.7:8123"
  auth_providers:
    - type: "trusted_networks"
      trusted_networks:
        - "192.168.0.0/24"
      trusted_users:
        192.168.0.10: !secret user_id_james
        192.168.0.11: !secret user_id_gillian
      allow_bypass_login: true
    - type: "homeassistant"

frontend:
  themes: !include_dir_merge_named themes

tts:
  - platform: "google_translate"

http:
  use_x_forwarded_for: true
  trusted_proxies:
    - "192.168.0.7"
    - "::1"

mqtt:
  scene:
    - name: "Everything Off"
      unique_id: "everything-off-scene"
      command_topic: "home/everything-off"
      payload_on: "ON"
      retain: false
    - name: "I'm Up"
      unique_id: "im-up-scene"
      command_topic: "home/im-up"
      payload_on: "ON"
      retain: false

spotcast:
  sp_dc: !secret spotcast_sp_dc
  sp_key: !secret spotcast_sp_key
  country: "GB"

google_assistant:
  project_id: !secret assistant_project_id
  service_account: !include google_assistant_key.json
  report_state: true
  expose_by_default: false
  entity_config:

    # Shelly
    light.shellydimmer2_48551900035d:
      name: "Downstairs Light"
    light.shellydimmer2_485519002b72:
      name: "Ceiling Light"
    light.shellydimmer2_4855190088ac:
      name: "Ceiling Light"
    light.shellydimmer2_48551900b4e6:
      name: "Ceiling Light"
    light.shellydimmer2_48551900c175:
      name: "Ceiling Light"
    light.shellydimmer2_48551900c7e2:
      name: "Ceiling Light"
    light.shellydimmer2_48551900caca:
      name: "Upstairs Light"
    light.shellydimmer2_C45BBE572627:
      name: "Ceiling Light"
    light.shellydimmer2_e89f6d8559a2:
      name: "Ceiling Light"
    light.shellydimmer2_c45bbe56f9ba:
      name: "Ceiling Light"
    light.shelly_duo:
      name: "Big Light"

    # Switches
    input_boolean.work_alarm:
      name: "Work Alarms"
    input_boolean.guest_mode:
      name: "Guest Mode"
    input_boolean.someone_home:
      name: "Someone Home"
    input_boolean.washing_out:
      name: "Washing Out"
    switch.nzbget_download:
      name: "Downloads"
    switch.adguard_protection:
      name: "Adguard Protection"

    # Wake On Lan
    switch.wake_pc:
      name: "PC"

    # Tado
    #    climate.bedroom:
    #      name: "Bedroom"
    #    climate.dining_room:
    #      name: "Dining Room"
    #    climate.living_room:
    #      name: "Living Room"
    #    climate.office:
    #      name: "Office"

    # Tuya
    light.bedroom_floor_light:
      name: "Floor Light"
    switch.smart_socket_1_socket_1:
      name: "Electric Blanket"
    switch.smart_socket_2_socket_1:
      name: "Laptop"
    switch.smart_socket_3_socket_1:
      name: "Salt Lamp"
    switch.smart_socket_4_socket_1:
      name: "Firework Lamp"

    # Scenes
    scene.everything_off:
      name: "Bedtime"
    scene.i_m_up:
      name: "I'm Up"

light:
  - platform: "blink1_status"

switch:
  - platform: "wake_on_lan"
    name: "PC"
    host: "192.168.0.8"
    mac: "B4:2E:99:F0:FB:4A"
  - platform: "wake_on_lan"
    name: "TV"
    host: "192.168.0.9"
    mac: "E8-F2-E2-C1-A4-48"

weather:
  - platform: pirateweather
    api_key: !secret pirate_weather
    latitude: !secret home_lat
    longitude: !secret home_lon
    mode: "hourly" (default) or "daily"
    #name: Custom name


# you can also get a sensor data
sensor:
  - platform: pirateweather
    api_key: !secret pirate_weather
    scan_interval: '00:15:00'
    monitored_conditions:
      - temperature
      - precip_probability
      - precip_type
      - humidity
      - cloud_cover
      - nearest_storm_distance
      - precip_intensity
      - wind_speed

group:
  alldevices:
    name: "All Devices"
    entities:
      - "light.all_lights"
      - "media_player.all_media_players"
      - "switch.all_switches"
  climate:
    name: "All Thermostats"
    entities:
      - "climate.bedroom"
      - "climate.dining_room"
      - "climate.living_room"
      - "climate.office"
  people:
    name: "People"
    entities:
      - "person.james_eagle"
      - "person.gillian_mckinley"
