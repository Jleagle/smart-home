#automation:
#cloud:
counter:
dhcp:
diagnostics:
#energy:
frontend:
history:
input_boolean:
input_button:
input_datetime:
input_number:
input_select:
input_text:
logbook:
map:
media_source:
mobile_app:
my:
network:
person:
#scene:
#script:
ssdp:
sun:
system_health:
#tag:
timer:
usb:
updater:
webhook:
zeroconf:
zone:

ffmpeg:
wake_on_lan:
notify:

homeassistant:
  name: "Home"
  latitude: !secret home_lat
  longitude: !secret home_lon
  elevation: 14
  unit_system: "metric"
  currency: "GBP"
  time_zone: "Europe/London"
  external_url: "https://hass.jimeagle.com"
  internal_url: "http://192.168.0.7:8123"
  auth_providers:
    - type: "trusted_networks"
      trusted_networks:
        - "192.168.0.8" # PC
        - "192.168.0.9" # Phone
    - type: "homeassistant"

http:
  use_x_forwarded_for: true
  trusted_proxies:
    - "192.168.0.7"
    - "::1"

mqtt:
  broker: "192.168.0.7"
  port: "1883"
  client_id: "hass"

button:
  - platform: "mqtt"
    name: "Turn All Heating Off"
    unique_id: "all-heating-off-button"
    command_topic: "home/heating/all-off"

sensor:

  - platform: "tautulli"
    api_key: !secret tautulli
    host: "192.168.0.7:8181"

#  - platform: radarr
#    api_key: !secret radarr
#    host: 192.168.0.7
#    port: 7878
#    monitored_conditions:
#      - movies
#      - upcoming
#      - commands
#      - diskspace
#      - status
#    days: 7
#    ssl: true
#    unit: GB

#camera:
#  - platform: onvif
#    host: !secret camera_host
#    name: 'driveway'
#    username: admin
#    password: !secret camera_pass

webostv:
  host: "192.168.0.9"
  name: "TV"
  turn_on_action:
    service: "persistent_notification.create"
    data:
      message: "Turn on action"
  customize:
    sources:
      - "livetv"
      - "netflix"

light:
  - platform: "blink1_status"
  - platform: "group"
    name: "All Lights"
    entities:
      - "light.bedroom_light_group"
      - "light.living_room_light_group"
      - "light.spare_room_light_group"

media_player:
  - platform: "group"
    name: "All Media Players"
    entities:
      - "media_player.bedroom_speaker"
      - "media_player.kitchen_speaker"
      - "media_player.living_room_speaker"
      - "media_player.tv"

spotify:
  client_id: !secret spotify_id
  client_secret: !secret spotify_secret

google_assistant:
  project_id: !secret assistant_project_id
  service_account: !include google_assistant_key.json
  report_state: true
  expose_by_default: false
  entity_config:
    switch.alarms_on:
      name: "Work Alarms"
    switch.nzbget_download:
      name: "Downloads"
    switch.pi_hole:
      name: "Pihole"
    switch.wake_desktop:
      name: "Wake Desktop"

switch:
  - platform: "wake_on_lan"
    name: "Wake Desktop"
    host: "192.168.0.8"
    mac: !secret pc_mac_address
  - platform: "mqtt"
    state_topic: "home/work-alarms/get"
    command_topic: "home/work-alarms/set"
    name: "Work Alarms"
    device_class: "switch"

# Text to speech
tts:
  - platform: "google_translate"

automation: !include automations.yaml
group: !include groups.yaml
scene: !include scenes.yaml
script: !include scripts.yaml
